library('devtools')
load_all()
compile.ascr(T)

demo_names = list.files("G:/")
demo_names = demo_names[grepl("^fit_", demo_names)]

for(i in demo_names){
  dir = paste0("G:/", i)
  assign(i, readRDS(dir)$model_output)
}

rm(demo_names, dir, i)


captures = readRDS('./inst/demo_captures')
traps = readRDS('./inst/demo_traps')
masks = readRDS('./inst/demo_masks')
par.extend = readRDS('./inst/demo_extend_no_animal_ID')
ss.opts = readRDS('./inst/demo_ss_opts')

capt = create.capt(captures, traps)
capt2 = create.capt(captures[,-which(colnames(captures) == 'animal_ID')], traps)


#paper demo
library('devtools')
load_all()
compile.ascr(T)
captures = readRDS('./inst/capt_paper')
traps = readRDS("./inst/traps_paper")
masks = readRDS("./inst/mask_paper")
capt = create.capt(captures, traps)
tem = fit.ascr(capt = capt, traps, masks, detfn = 'hhn',
  sv = list(D = 600, lambda0 = 9, sigma = 2, mu = 9, sigma.toa = 10),
  dev = TRUE)
